<h2>Profile</h2>

<h4>Hello <span>{{user.username}}</span></h4>

<form action="/profile" method="POST" id="form-profile">
	<label for="address">Address</label>
	<input type="text" name="address" id="autocomplete" placeholder="Your address" required>
	<label for="isCooker">Do you wanna be a cooker?</label>

	<input type="radio" name="isCooker" value="false" checked> No<br>
	<input type="radio" name="isCooker" value="true"> Yes<br>

	{{#if errorMessage }}
	<div class="error-message">{{ errorMessage }}</div>
	{{else if successMessage}}
	<div class="success-message">{{ successMessage }}</div>
	{{/if}}

	<input class="form-control" type="hidden" name="latitude" id="lat-pos" placeholder="Latitude *">
	<input class="form-control" type="hidden" name="longitude" id="lng-pos" placeholder="Longitude *">

	<button id="updateProfile" type="submit">Save</button>

	<div id="profileMap" style="width: 320px; height: 480px;"></div>

</form>

{{!-- FORMULARIO TUPPER --}}
<form action="/tupper/new" method="POST" id="form-tupper">
	<label for="tuppername">Your Recipe</label>
	<input id="tuppername" type="text" name="tuppername" placeholder="Recipe Name">
	<label for="price">Your Price</label>
	<input type="number" name="price" id="price">
	<label for="quantity">Tupper´s Quantity</label>
	<input type="number" name="quantity" id="quantity">

	<button type="submit">Create Your Tupper</button>
</form>

<div>
	<a href="/tupper">Show tuppers</a>
</div>


<!-- Modal -->

<ul>
	{{#each tuppers}}
	<li>{{tuppername}}</li>
	<li>{{price}}</li>
	<li>{{quantity}}</li>
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal{{id}}">
		Edit your Tupper
	</button>
	<button type="submit" class="btn btn-primary">
		<a href="/tupper/show/{{id}}">Choose your Tupper</a> 
	</button>
	
	<div class="modal fade" id="exampleModal{{id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Edit your Tupper</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form action="/tupper/update/{{_id}}" method="POST" id="form-tupper">
						<label for="tuppername">Your Recipe</label>
						<input id="tuppername" type="text" name="tuppername" value="{{tuppername}}">
						<label for="price">Your Price</label>
						<input type="number" name="price" id="price" value="{{price}}">
						<label for="quantity">Tupper´s Quantity</label>
						<input type="number" name="quantity" id="quantity" value="{{quantity}}">

						<button type="submit">Modify Tupper</button>
					</form>
				</div>
			</div>
		</div>
	</div>
	{{/each}}
</ul>
</div>

{{!-- Google Places and Google Map API --}}
<script src="/javascripts/showTupperForm.js"></script>
<script src="/javascripts/setPosOnForm.js"></script>
<script src="/javascripts/codeAddress.js"></script>
<script src="/javascripts/autocomplete.js"></script>
<script src="/javascripts/drawMarkerAndCenter.js"></script>
<script src="/javascripts/geocoding.js"></script>